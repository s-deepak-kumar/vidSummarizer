<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>vidSummarizer - Summarize your audio & videos in simple text!</title>
    <meta content="vidSummarizer helps to analyze sentiment & summarize audio & video files into simple text within few seconds." name="description">
    <meta content="audio,video,summarizer,transcript" name="keywords">

    <meta property="og:title" content="vidSummarizer - Summarize your audio & videos in simple text!">
    <meta property="og:description" content="vidSummarizer helps to analyze sentiment & summarize audio & video files into simple text within few seconds.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://brackethacks.com/1.0/">
    <meta property="og:image" content="https://brackethacks.com/1.0//img/brackethacks-1.0-banner.jpg" />

    <!-- Favicons -->
    <link href="/img/favicon.ico" rel="icon">
    <link href="/img/favicon.ico" rel="apple-touch-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Secular+One&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Signika&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/css/util.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <!--===============================================================================================-->

    <!-- Template Main CSS File -->
    <link href="/css/style.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<style>
    input[type="url"] {
        background-color: transparent;
        font-family: 'Signika', sans-serif;
        color: #333333;
        font-size: 18px;
    }
    
    .upload-box {
        border: 1.5px solid rgba(51, 51, 51, 0.6);
        border-radius: 8px;
        padding: 16px 24px;
    }
    
    .upload-box:hover {
        border: 1.5px solid rgba(51, 51, 51, 1);
        cursor: pointer;
    }
    
    .btn-submit {
        width: 100%;
        background-color: #F47458;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 18px;
        color: white;
        font-family: 'Signika', sans-serif;
    }
    
    .btn-submit:hover {
        background-color: rgba(244, 117, 88, 0.8);
    }
    
    .btn-submit:disabled {
        background-color: rgba(244, 117, 88, 0.6);
    }
</style>

<body>



    <!-- ======= Hero Section ======= -->
    <section id="hero" class="hero d-flex align-items-center p-0" style="background-color: #f4f8fb;">

        <div class="container">
            <a href="/" class="logo d-flex align-items-center" style="margin-top: 30px;">
                <img src="/img/vidsummarizer_logo.png" height="80" alt="vidSummarizer" style="margin: auto;">
            </a>
            <div class="row" style="margin-top: 80px; padding-bottom: 60px;">
                <div class="col-lg-12 d-flex flex-column justify-content-center text-center">
                    <h1>Summarize your audio/video <br>file within <span style="color: #F47458;">few seconds</span></h1>
                    <span style="font-size: 20px; opacity: 0.9;" class="mt-2 ml-4 mr-4">Try vidSummarizer to summarize & analyze sentiment of your audio or video files into simple text within seconds. Quickly test below using any YouTube video, local audio file, or local video file.</span>
                </div>
            </div>
        </div>

    </section>
    <!-- End Hero -->

    <main id="main">

        <!-- ======= About Section ======= -->
        <section id="about" class="about">

            <div class="container p-0" style="background-color: transparent;">
                <div class="row text-center justify-content-center">
                    <div class="col-lg-5">
                        <div class="d-flex align-items-center m-4 upload-box">
                            <img src="/img/youtube_img.png" width="60" class="img-fluid">
                            <div style="text-align: left; width: 100%; margin-left: 20px;">
                                <span style="font-size: 20px;">YouTube video url</span>
                                <input type="url" name="youtube-url" id="youtube-url" placeholder="https://www.youtube.com/watch?v=BVgnIYSKUjY" style="width: 100%;">
                            </div>
                        </div>
                        <input type="file" name="file" id="file" hidden>
                        <div class="d-flex align-items-center m-4 upload-box" id="upload-file-box">
                            <div style="width: 60px; padding: 10px 0; background-color: #f4f8fb; border-radius: 8px;" class="align-items-center">
                                <i style="font-size: 20px; color: #333333;" class="bi bi-cloud-upload"></i>
                            </div>
                            <div style="text-align: left; width: 100%; margin-left: 20px;">
                                <span style="font-size: 20px;">Upload your file</span>
                                <p class="m-0 p-0" style="opacity: 0.5;" id="file-name">Browse your audio/video files</p>
                            </div>
                        </div>
                        <div class="align-items-center m-4">
                            <button class="btn-submit" type="submit" id="submit-form" disabled>Next</button>
                            <div id="loadingBar" class="spinner-border" style="color: #F47458;" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </section>
        <!-- End About Section -->

    </main>
    <!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer p-4 m-0" style="background-color: transparent;">
        <div class="container text-center">
            <h3 class="mt-3">@vidSummarizer</h3>
        </div>
    </footer>
    <!-- End Footer -->

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!--===============================================================================================-->
    <script>
        $(document).ready(function() {
            $("#submit-form").show();
            $("#loadingBar").hide();

            var type = "";
            var url = "";

            $("#upload-file-box").click(function() {
                $("#file").click();
            });

            $("#file").change(function() {
                var fileName = $(this).val();
                if (fileName != "") {
                    type = "file";
                    $('#file-name').text(fileName.substring(fileName.lastIndexOf("\\")));
                    $(':input[type="submit"]').prop('disabled', false);
                } else {
                    $('#file-name').text("Browse your audio/video files");
                    $(':input[type="submit"]').prop('disabled', true);
                }
            });

            $("#youtube-url").change(function() {
                var ytURL = $(this).val();
                if (ytURL != "" && validateYouTubeUrl(ytURL)) {
                    type = "youtube";
                    url = ytURL;
                    $('#file-name').text("Browse your audio/video files");
                    $(':input[type="submit"]').prop('disabled', false);
                } else {
                    $(':input[type="submit"]').prop('disabled', true);
                }
            });

            $("#submit-form").click(function() {

                if (type == "file") {
                    var formData = new FormData();
                    var files = $('#file')[0].files;

                    // Check file selected or not
                    if (files.length > 0) {
                        $("#submit-form").hide();
                        $("#loadingBar").show();

                        formData.append('file', files[0]);
                        let mime = files[0].type;
                        let mimeType = mime.split('/')[0];

                        $.ajax({
                            url: 'upload',
                            type: 'POST',
                            data: formData,
                            contentType: false,
                            processData: false,
                        }).done(function(response) {
                            if (response.status == 200) {
                                $("#submit-form").show();
                                $("#loadingBar").hide();
                                window.location = "summarize/" + mimeType + "/" + response.type + "/" + response.id
                            }
                        }).fail(function() {
                            console.log("AJAX Issue!")
                        })
                    }
                } else if (type == "youtube") {
                    // Check youtube url empty or not
                    if (url != "" && validateYouTubeUrl(url)) {
                        $("#submit-form").hide();
                        $("#loadingBar").show();

                        $.ajax({
                            url: 'upload_yt',
                            type: 'POST',
                            data: 'video_id=' + getYoutubeVideoId(url),
                            dataType: 'JSON'
                        }).done(function(response) {
                            console.log(response)
                            if (response.status == 200) {
                                $("#submit-form").show();
                                $("#loadingBar").hide();
                                window.location = "summarize/youtube" + "/" + response.type + "/" + response.id
                            }
                        }).fail(function() {
                            console.log("AJAX Issue!")
                        })
                    }
                }

            });

            function getYoutubeVideoId(url) {
                VID_REGEX =
                    /(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                return url.match(VID_REGEX)[1];
            }

            function validateYouTubeUrl(url) {
                if (url) {
                    var regExp = /^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
                    if (url.match(regExp)) {
                        return true;
                    }
                }
                return false;
            }
        });
    </script>
    <!--===============================================================================================-->

</body>

</html>